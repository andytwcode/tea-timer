# tab-title-sync

## Purpose

定義瀏覽器分頁標題與倒數時間同步更新的規格。

## Requirements

### Requirement: 倒數進行時更新分頁標題
系統 SHALL 在倒數進行期間，每秒更新瀏覽器分頁標題以顯示當前泡的剩餘時間。在連續沖泡模式下，標題同時顯示泡數。

#### Scenario: 單次模式倒數時標題顯示剩餘時間
- **WHEN** 單次模式下倒數正在進行且剩餘時間為 3:00
- **THEN** 瀏覽器分頁標題顯示「3:00 - 泡茶計時器」

#### Scenario: 連續模式倒數時標題顯示泡數和剩餘時間
- **WHEN** 連續沖泡模式下第 2 泡倒數正在進行且剩餘時間為 1:30
- **THEN** 瀏覽器分頁標題顯示「第2泡 1:30 - 泡茶計時器」

#### Scenario: 標題與顯示時間同步更新
- **WHEN** 連續模式下第 5 泡剩餘時間從 2:30 變為 2:29
- **THEN** 分頁標題從「第5泡 2:30 - 泡茶計時器」更新為「第5泡 2:29 - 泡茶計時器」

### Requirement: 未倒數時顯示預設標題
系統 SHALL 在倒數未開始或已結束時，顯示預設的分頁標題。

#### Scenario: 頁面載入時的預設標題
- **WHEN** 頁面剛載入且尚未開始倒數
- **THEN** 分頁標題顯示「泡茶計時器」

#### Scenario: 重置後恢復預設標題
- **WHEN** 使用者點擊「重置」按鈕停止倒數
- **THEN** 分頁標題恢復為「泡茶計時器」

### Requirement: 倒數結束時標題顯示完成狀態
系統 SHALL 在倒數結束時，將分頁標題更新為完成狀態，並根據模式顯示泡數。

#### Scenario: 單次模式時間到達時標題顯示 0:00
- **WHEN** 單次模式下倒數結束剩餘時間為 0:00
- **THEN** 分頁標題顯示「0:00 - 泡茶計時器」

#### Scenario: 連續模式時間到達時標題顯示泡數和 0:00
- **WHEN** 連續沖泡模式下第 3 泡倒數結束剩餘時間為 0:00
- **THEN** 分頁標題顯示「第3泡 0:00 - 泡茶計時器」

#### Scenario: 完成後標題保持顯示
- **WHEN** 任一泡倒數結束且閃爍動畫播放完畢
- **THEN** 分頁標題持續顯示完成狀態直到使用者重置或開始下一泡

### Requirement: 標題格式與顯示時間一致
系統 SHALL 確保分頁標題中的時間格式與主顯示區域的時間格式一致（M:SS）。

#### Scenario: 單次模式標題時間格式
- **WHEN** 剩餘時間為 125 秒
- **THEN** 分頁標題顯示「2:05 - 泡茶計時器」，使用相同的 M:SS 格式

#### Scenario: 連續模式標題時間格式
- **WHEN** 第 7 泡剩餘時間為 125 秒
- **THEN** 分頁標題顯示「第7泡 2:05 - 泡茶計時器」，使用相同的 M:SS 格式

### Requirement: 標題文字簡潔明確
系統 SHALL 使用簡潔的標題文字「泡茶計時器」，確保在有限的分頁空間中清晰顯示。

#### Scenario: 單次模式標題長度適中
- **WHEN** 單次模式下系統設定分頁標題
- **THEN** 標題文字保持簡潔（例如「3:00 - 泡茶計時器」），不使用過長的描述

#### Scenario: 連續模式標題長度適中
- **WHEN** 連續沖泡模式下系統設定分頁標題
- **THEN** 標題文字保持簡潔（例如「第5泡 3:00 - 泡茶計時器」），不使用過長的描述

### Requirement: 連續模式下標題顯示泡數
系統 SHALL 在連續沖泡模式啟用時，於分頁標題中顯示當前泡數。

#### Scenario: 連續模式第一泡
- **WHEN** 連續沖泡模式下第 1 泡倒數進行中
- **THEN** 分頁標題顯示「第1泡 X:XX - 泡茶計時器」

#### Scenario: 連續模式第十泡
- **WHEN** 連續沖泡模式下第 10 泡倒數進行中
- **THEN** 分頁標題顯示「第10泡 X:XX - 泡茶計時器」

### Requirement: 泡數隨倒數完成更新
系統 SHALL 在連續沖泡模式下，每次倒數完成後更新標題中的泡數。

#### Scenario: 第二泡完成後標題顯示第三泡
- **WHEN** 連續沖泡模式下第 2 泡完成
- **THEN** 完成時標題顯示「第2泡 0:00 - 泡茶計時器」

#### Scenario: 開始下一泡後標題更新
- **WHEN** 第 2 泡完成後使用者開始第 3 泡
- **THEN** 倒數開始時標題更新為「第3泡 X:XX - 泡茶計時器」
