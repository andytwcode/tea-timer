# timer-control (Delta Spec)

## MODIFIED Requirements

### Requirement: 開始按鈕在倒數中禁用
系統 SHALL 在倒數進行期間將主按鈕改為「暫停」功能，允許使用者暫停計時。暫停後按鈕變為「繼續」，可恢復計時。

#### Scenario: 倒數進行中主按鈕顯示暫停
- **WHEN** 任一泡倒數正在進行
- **THEN** 主按鈕為可點擊狀態
- **AND** 按鈕文字顯示「⏸ 暫停」或「⏸ 暫停第 X 泡」（連續沖泡模式）

#### Scenario: 點擊暫停按鈕
- **WHEN** 倒數進行中使用者點擊主按鈕
- **THEN** 系統暫停計時
- **AND** 保留當前剩餘秒數
- **AND** 主按鈕文字變為「▶ 繼續」或「▶ 繼續第 X 泡」

#### Scenario: 已暫停時主按鈕顯示繼續
- **WHEN** 計時器處於暫停狀態
- **THEN** 主按鈕為可點擊狀態
- **AND** 按鈕文字顯示「▶ 繼續」或「▶ 繼續第 X 泡」（連續沖泡模式）

#### Scenario: 點擊繼續按鈕
- **WHEN** 暫停中使用者點擊主按鈕
- **THEN** 系統從當前剩餘秒數恢復計時
- **AND** 主按鈕文字變為「⏸ 暫停」或「⏸ 暫停第 X 泡」

#### Scenario: 倒數停止或重置後主按鈕啟用
- **WHEN** 倒數結束或使用者點擊重置
- **THEN** 主按鈕恢復為開始狀態
- **AND** 按鈕文字根據當前狀態更新（如「▶ 開始」或「▶ 開始第 X 泡」）

## ADDED Requirements

### Requirement: 暫停期間保持輸入鎖定
系統 SHALL 在暫停期間保持時間輸入框為鎖定狀態，不允許修改時間。

#### Scenario: 暫停時輸入框保持禁用
- **WHEN** 計時器處於暫停狀態
- **THEN** 分鐘和秒數輸入框為禁用狀態
- **AND** 無法修改輸入值

#### Scenario: 繼續後輸入框仍然鎖定
- **WHEN** 從暫停狀態恢復計時
- **THEN** 分鐘和秒數輸入框保持禁用狀態（與計時中相同）

### Requirement: 暫停時停止計時器執行
系統 SHALL 在暫停時清除計時器 interval，停止背景倒數。繼續時重新建立 interval。

#### Scenario: 暫停時清除 interval
- **WHEN** 使用者點擊暫停
- **THEN** 系統執行 clearInterval() 清除計時器
- **AND** 剩餘秒數不再遞減
- **AND** 不執行任何背景計時邏輯

#### Scenario: 繼續時重新啟動 interval
- **WHEN** 使用者點擊繼續
- **THEN** 系統重新建立 setInterval()
- **AND** 從當前剩餘秒數開始倒數

#### Scenario: 重置時清除暫停狀態
- **WHEN** 暫停中使用者點擊重置按鈕
- **THEN** 系統清除 interval（若存在）
- **AND** 清除暫停狀態
- **AND** 恢復為初始狀態

### Requirement: 連續沖泡模式下暫停僅影響當前泡
系統 SHALL 在連續沖泡模式下，暫停僅影響當前正在計時的泡，不改變基準時間或後續泡的預計時間。

#### Scenario: 暫停不改變基準時間
- **WHEN** 第 3 泡計時中暫停
- **THEN** 第一泡基準時間不變
- **AND** 增量設定不變

#### Scenario: 暫停不影響下一泡時間
- **WHEN** 第 3 泡計時中暫停後繼續，並完成計時
- **THEN** 第 4 泡的預計時間仍按原公式計算（基準 + 3 × 增量）
- **AND** 不受第 3 泡暫停時長影響

#### Scenario: 暫停期間「開始下一泡」按鈕行為不變
- **WHEN** 第 2 泡完成後暫停（若可能）
- **THEN** 「開始第 3 泡」按鈕邏輯不變
- **AND** 點擊後從第 3 泡的預計時間開始計時

### Requirement: 暫停狀態顯示在標題列
系統 SHALL 在瀏覽器標題列顯示暫停狀態，提醒使用者當前有計時器暫停中。

#### Scenario: 暫停時標題列顯示暫停圖示
- **WHEN** 使用者點擊暫停
- **THEN** 瀏覽器標題更新為「⏸ 2:30 - 泡茶計時器」（顯示剩餘時間和暫停圖示）

#### Scenario: 繼續時標題列恢復倒數
- **WHEN** 使用者點擊繼續
- **THEN** 瀏覽器標題恢復為倒數格式「2:29 - 泡茶計時器」

#### Scenario: 連續沖泡模式暫停時標題包含泡數
- **WHEN** 連續沖泡模式第 3 泡暫停
- **THEN** 瀏覽器標題顯示「⏸ 2:30 - 第 3 泡 - 泡茶計時器」
