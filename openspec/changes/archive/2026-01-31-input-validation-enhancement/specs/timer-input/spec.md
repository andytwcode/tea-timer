# timer-input (Delta Spec)

## Purpose

更新輸入驗證策略，從「自動調整無效值」改為「顯示錯誤訊息並阻止操作」，提供更明確的使用者回饋。

## MODIFIED Requirements

### Requirement: 使用者可輸入分鐘數
系統 SHALL 提供分鐘數輸入欄位，允許使用者輸入 0 到 10 之間的整數，並在輸入無效值時顯示錯誤訊息。

#### Scenario: 輸入有效分鐘數
- **WHEN** 使用者在分鐘欄位輸入 3
- **THEN** 系統接受該輸入並更新內部狀態

#### Scenario: 輸入超出範圍的分鐘數
- **WHEN** 使用者輸入大於 10 的分鐘數
- **THEN** 系統顯示錯誤訊息「分鐘數不可超過 10」
- **AND** 分鐘欄位顯示紅框標示
- **AND** 開始按鈕被禁用

#### Scenario: 輸入負數分鐘數
- **WHEN** 使用者輸入負數
- **THEN** 系統顯示錯誤訊息「分鐘數不可為負數」
- **AND** 分鐘欄位顯示紅框標示
- **AND** 開始按鈕被禁用

### Requirement: 使用者可輸入秒數
系統 SHALL 提供秒數輸入欄位，允許使用者輸入 0 到 59 之間的整數，並在輸入無效值時顯示錯誤訊息。

#### Scenario: 輸入有效秒數
- **WHEN** 使用者在秒數欄位輸入 30
- **THEN** 系統接受該輸入並更新內部狀態

#### Scenario: 輸入超出範圍的秒數
- **WHEN** 使用者輸入大於 59 的秒數
- **THEN** 系統顯示錯誤訊息「秒數不可超過 59」
- **AND** 秒數欄位顯示紅框標示
- **AND** 開始按鈕被禁用

#### Scenario: 輸入負數秒數
- **WHEN** 使用者輸入負數
- **THEN** 系統顯示錯誤訊息「秒數不可為負數」
- **AND** 秒數欄位顯示紅框標示
- **AND** 開始按鈕被禁用

### Requirement: 驗證總時長範圍
系統 SHALL 驗證第一泡的總時長（分鐘 × 60 + 秒數）必須在 5 秒到 600 秒之間，並在不符時顯示錯誤訊息。增量時間無最大限制。

#### Scenario: 總時長為 5 秒（最小值）
- **WHEN** 使用者輸入 0 分鐘 5 秒作為第一泡時間
- **THEN** 系統驗證通過，允許開始倒數

#### Scenario: 總時長為 600 秒（最大值）
- **WHEN** 使用者輸入 10 分鐘 0 秒作為第一泡時間
- **THEN** 系統驗證通過，允許開始倒數

#### Scenario: 總時長少於 5 秒
- **WHEN** 使用者輸入 0 分鐘 3 秒作為第一泡時間
- **THEN** 系統顯示錯誤訊息「第一泡時間必須在 5 秒到 10 分鐘之間」
- **AND** 分鐘和秒數欄位顯示紅框標示
- **AND** 開始按鈕被禁用

#### Scenario: 總時長超過 600 秒
- **WHEN** 使用者輸入 10 分鐘 1 秒作為第一泡時間
- **THEN** 系統顯示錯誤訊息「第一泡時間必須在 5 秒到 10 分鐘之間」
- **AND** 分鐘和秒數欄位顯示紅框標示
- **AND** 開始按鈕被禁用

#### Scenario: 增量可超過 600 秒
- **WHEN** 使用者設定增量為 5 分鐘（300 秒）
- **THEN** 系統接受此設定，即使後續泡數超過 600 秒

### Requirement: 增量分鐘數輸入範圍
系統 SHALL 在連續沖泡模式啟用時驗證增量分鐘數必須大於等於 0，並在無效時顯示錯誤訊息。

#### Scenario: 輸入有效增量分鐘數
- **WHEN** 使用者在增量分鐘欄位輸入 2
- **THEN** 系統接受該輸入

#### Scenario: 增量分鐘數超過上限
- **WHEN** 使用者輸入大於 10 的增量分鐘數
- **THEN** 系統接受該輸入（無上限限制）

#### Scenario: 增量分鐘數為負數
- **WHEN** 使用者輸入負數增量分鐘數
- **THEN** 系統顯示錯誤訊息「增量分鐘數不可為負數」
- **AND** 增量分鐘欄位顯示紅框標示
- **AND** 開始按鈕被禁用

### Requirement: 增量秒數輸入範圍
系統 SHALL 在連續沖泡模式啟用時驗證增量秒數必須在 0 到 59 之間，並在無效時顯示錯誤訊息。

#### Scenario: 輸入有效增量秒數
- **WHEN** 使用者在增量秒數欄位輸入 30
- **THEN** 系統接受該輸入

#### Scenario: 增量秒數超過上限
- **WHEN** 使用者輸入大於 59 的增量秒數
- **THEN** 系統顯示錯誤訊息「增量秒數不可超過 59」
- **AND** 增量秒數欄位顯示紅框標示
- **AND** 開始按鈕被禁用

#### Scenario: 增量秒數為負數
- **WHEN** 使用者輸入負數增量秒數
- **THEN** 系統顯示錯誤訊息「增量秒數不可為負數」
- **AND** 增量秒數欄位顯示紅框標示
- **AND** 開始按鈕被禁用
