# 功能：連續沖泡控制

## ADDED Requirements

### Requirement: 使用者可啟用連續沖泡模式
系統應提供一個勾選框，讓使用者選擇是否啟用連續沖泡模式。

#### Scenario: 勾選連續沖泡模式
- **WHEN** 使用者勾選「啟用連續沖泡」勾選框
- **THEN** 系統顯示增量時間輸入欄位

#### Scenario: 取消勾選連續沖泡模式
- **WHEN** 使用者取消勾選「啟用連續沖泡」勾選框
- **THEN** 系統隱藏增量時間輸入欄位

### Requirement: 使用者可設定每泡增量時間
系統應提供分鐘和秒數輸入欄位，讓使用者設定每泡的時間增量。

#### Scenario: 輸入有效的增量時間
- **WHEN** 使用者在增量欄位輸入「分鐘: 1, 秒: 30」
- **THEN** 系統接受此設定，後續每泡將比前一泡增加 90 秒

#### Scenario: 分鐘超過範圍
- **WHEN** 使用者輸入增量分鐘大於 10
- **THEN** 系統自動調整為 10

#### Scenario: 秒數超過範圍
- **WHEN** 使用者輸入增量秒數大於 59
- **THEN** 系統自動調整為 59

#### Scenario: 負數輸入
- **WHEN** 使用者輸入負數
- **THEN** 系統自動調整為 0

### Requirement: 增量為零時等同單次模式
當連續沖泡啟用但增量為 0 時，系統行為應等同於單次模式。

#### Scenario: 啟用連續但增量為零
- **WHEN** 使用者啟用連續沖泡且增量時間為「分鐘: 0, 秒: 0」
- **THEN** 系統每泡使用相同的第一泡時間
- **AND** 開始按鈕顯示「開始第 X 泡」
- **AND** 完成後按鈕顯示「重新開始」而非「開始第 X 泡」

### Requirement: 完成後提示下一泡操作
當連續沖泡啟用且增量大於 0 時，每泡完成後應顯示下一泡的操作選項。

#### Scenario: 完成一泡後顯示下一泡選項
- **WHEN** 第 1 泡倒數完成
- **THEN** 主按鈕文字變更為「開始第 2 泡 (X秒)」，其中 X 為第 2 泡的總秒數
- **AND** 顯示「結束沖泡」次按鈕

#### Scenario: 點擊開始下一泡
- **WHEN** 第 1 泡完成後使用者點擊「開始第 2 泡」按鈕
- **THEN** 系統開始第 2 泡的倒數計時
- **AND** 泡數計數器增加為 2

#### Scenario: 點擊結束沖泡
- **WHEN** 第 1 泡完成後使用者點擊「結束沖泡」按鈕
- **THEN** 系統重置為初始狀態
- **AND** 泡數計數器重置為 1

### Requirement: 重置按鈕應清除所有狀態
重置按鈕應將計時器和泡數狀態恢復到初始值。

#### Scenario: 倒數中點擊重置
- **WHEN** 第 3 泡倒數進行中時使用者點擊「重置」按鈕
- **THEN** 系統停止倒數
- **AND** 泡數計數器重置為 1
- **AND** 計時器顯示第一泡的初始時間

#### Scenario: 完成後點擊重置
- **WHEN** 第 5 泡完成後使用者點擊「重置」按鈕
- **THEN** 泡數計數器重置為 1
- **AND** 計時器顯示第一泡的初始時間
- **AND** 次按鈕「結束沖泡」消失
