# countdown-display (Delta Spec)

## MODIFIED Requirements

### Requirement: 顯示格式為 M:SS
系統 SHALL 以「M:SS」格式顯示當前泡的剩餘時間，其中 M 為分鐘數，SS 為兩位數的秒數。在連續沖泡模式下，每泡的總時間會根據增量自動計算。

#### Scenario: 顯示完整分鐘
- **WHEN** 當前泡剩餘時間為 180 秒
- **THEN** 系統顯示「3:00」

#### Scenario: 顯示分鐘和秒數
- **WHEN** 當前泡剩餘時間為 125 秒
- **THEN** 系統顯示「2:05」

#### Scenario: 顯示小於一分鐘
- **WHEN** 當前泡剩餘時間為 45 秒
- **THEN** 系統顯示「0:45」

#### Scenario: 秒數補零
- **WHEN** 當前泡剩餘時間為 61 秒
- **THEN** 系統顯示「1:01」（秒數自動補零）

#### Scenario: 連續模式第二泡時間顯示
- **WHEN** 第一泡時間為 30 秒，增量為 10 秒，開始第 2 泡
- **THEN** 系統開始顯示為「0:40」（30+10=40）

#### Scenario: 連續模式第五泡時間顯示
- **WHEN** 第一泡時間為 1 分鐘，增量為 30 秒，開始第 5 泡
- **THEN** 系統開始顯示為「3:00」（60+30×4=180）

### Requirement: 每秒更新顯示
系統 SHALL 每秒更新一次當前泡剩餘時間的顯示。

#### Scenario: 倒數進行中
- **WHEN** 任一泡倒數計時正在進行
- **THEN** 系統每秒減少 1 秒並更新顯示

#### Scenario: 連續更新
- **WHEN** 第 3 泡剩餘時間從 3:00 開始倒數
- **THEN** 系統依序顯示「3:00」→「2:59」→「2:58」...

### Requirement: 時間歸零時顯示 0:00
系統 SHALL 在當前泡倒數結束時顯示「0:00」。

#### Scenario: 倒數結束
- **WHEN** 當前泡剩餘時間從 1 秒變為 0 秒
- **THEN** 系統顯示「0:00」

### Requirement: 字體大小適中易讀
系統 SHALL 以足夠大的字體顯示倒數時間，確保使用者易於閱讀。

#### Scenario: 顯示倒數時間
- **WHEN** 系統顯示倒數時間
- **THEN** 字體大小應顯著大於輸入欄位和按鈕文字

## ADDED Requirements

### Requirement: 時間到達時觸發閃爍動畫
系統 SHALL 在每一泡倒數完成時觸發文字閃爍動畫，提醒使用者時間到了。

#### Scenario: 倒數完成時閃爍
- **WHEN** 任一泡倒數結束（顯示 0:00）
- **THEN** 系統觸發文字閃爍動畫（opacity 在 1 和 0.2 之間切換）
- **AND** 文字顏色變為紅色

#### Scenario: 閃爍次數和時長
- **WHEN** 閃爍動畫觸發
- **THEN** 動畫播放 5 次，每次 0.5 秒

#### Scenario: 連續模式下每泡都閃爍
- **WHEN** 連續沖泡模式下第 3 泡完成
- **THEN** 系統觸發閃爍動畫
- **AND** 使用者可選擇開始第 4 泡或結束沖泡

### Requirement: 顯示完成狀態文字
系統 SHALL 在倒數完成時顯示完成狀態文字，告知使用者當前泡數已完成。

#### Scenario: 單次模式完成
- **WHEN** 單次模式下倒數完成
- **THEN** 系統顯示「✨ 時間到！」文字

#### Scenario: 連續模式完成
- **WHEN** 連續沖泡模式下第 2 泡倒數完成
- **THEN** 系統顯示「✨ 第 2 泡完成！」文字
