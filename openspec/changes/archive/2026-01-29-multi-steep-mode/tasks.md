# 實作任務清單

## 1. 狀態管理

- [x] 1.1 新增 `incrementMinutes` ref（增量分鐘數）
- [x] 1.2 新增 `incrementSeconds` ref（增量秒數）
- [x] 1.3 新增 `enableMultiSteep` ref（連續沖泡開關）
- [x] 1.4 新增 `currentSteep` ref（當前泡數計數器）
- [x] 1.5 新增 `isCompleted` ref（本泡是否完成）
- [x] 1.6 新增 `incrementTotalSeconds` computed（計算總增量秒數）
- [x] 1.7 新增 `currentSteepSeconds` computed（計算當前泡的總秒數）
- [x] 1.8 新增 `nextSteepSeconds` computed（計算下一泡的總秒數）

## 2. 連續沖泡控制 UI

- [x] 2.1 新增「啟用連續沖泡」勾選框
- [x] 2.2 新增增量分鐘數輸入欄位（範圍 0-10）
- [x] 2.3 新增增量秒數輸入欄位（範圍 0-59）
- [x] 2.4 實作勾選框與增量輸入欄位的顯示/隱藏邏輯
- [x] 2.5 實作增量輸入的驗證和範圍限制

## 3. 泡數計數器顯示

- [x] 3.1 新增泡數顯示區域（僅連續模式）
- [x] 3.2 實作泡數顯示的條件渲染（v-if enableMultiSteep）
- [x] 3.3 新增泡數顯示的樣式（與現有設計一致）

## 4. 按鈕邏輯更新

- [x] 4.1 新增 `mainButtonText` computed（動態按鈕文字）
- [x] 4.2 新增 `showEndButton` computed（判斷是否顯示結束按鈕）
- [x] 4.3 實作按鈕文字的狀態機邏輯（初始/倒數中/完成）
- [x] 4.4 實作按鈕文字顯示當前泡數
- [x] 4.5 實作按鈕文字顯示下一泡秒數
- [x] 4.6 新增「結束沖泡」次按鈕
- [x] 4.7 實作「結束沖泡」按鈕的顯示條件
- [x] 4.8 實作「結束沖泡」按鈕的點擊處理

## 5. 倒數計時邏輯更新

- [x] 5.1 修改 `startCountdown` 使用 `currentSteepSeconds`
- [x] 5.2 修改倒數完成處理，設定 `isCompleted = true`
- [x] 5.3 修改倒數完成處理，在連續模式下增加 `currentSteep`
- [x] 5.4 實作連續模式下完成後不重置，等待使用者操作
- [x] 5.5 實作增量為零時的兼容邏輯（等同單次模式）

## 6. 完成狀態顯示更新

- [x] 6.1 修改完成狀態文字，在連續模式顯示泡數
- [x] 6.2 確保閃爍動畫在連續模式下每泡都觸發
- [x] 6.3 實作完成狀態的條件文字（單次/連續）

## 7. 重置功能更新

- [x] 7.1 修改重置按鈕處理，同時重置 `currentSteep` 為 1
- [x] 7.2 修改重置按鈕處理，清除 `isCompleted` 狀態
- [x] 7.3 修改重置按鈕處理，恢復為第一泡時間

## 8. localStorage 整合

- [x] 8.1 新增 localStorage 鍵 `teaTimerIncrementMinutes`
- [x] 8.2 新增 localStorage 鍵 `teaTimerIncrementSeconds`
- [x] 8.3 新增 localStorage 鍵 `teaTimerMultiSteepEnabled`
- [x] 8.4 修改 `onMounted` 讀取增量分鐘數
- [x] 8.5 修改 `onMounted` 讀取增量秒數
- [x] 8.6 修改 `onMounted` 讀取連續模式開關狀態
- [x] 8.7 修改開始倒數處理，儲存增量分鐘數
- [x] 8.8 修改開始倒數處理，儲存增量秒數
- [x] 8.9 修改開始倒數處理，儲存連續模式開關狀態

## 9. 瀏覽器標籤標題更新

- [x] 9.1 修改 `updateTitle` 函數，在連續模式顯示泡數
- [x] 9.2 實作標題格式：單次模式「X:XX - 茶計時器」
- [x] 9.3 實作標題格式：連續模式「第X泡 X:XX - 茶計時器」
- [x] 9.4 確保標題在倒數中同步更新泡數

## 10. 輸入驗證更新

- [x] 10.1 確認第一泡時間驗證範圍（5-600 秒）
- [x] 10.2 實作增量時間無最大限制（可超過 600 秒）
- [x] 10.3 實作增量為零時的特殊邏輯（等同單次模式）

## 11. 樣式調整

- [x] 11.1 調整輸入區域佈局以容納新欄位
- [x] 11.2 新增增量輸入欄位的樣式（與現有一致）
- [x] 11.3 新增泡數顯示的樣式
- [x] 11.4 新增「結束沖泡」按鈕的樣式
- [x] 11.5 確保響應式佈局在小螢幕上正常顯示

## 12. 測試與驗證

- [x] 12.1 測試單次模式（連續沖泡未啟用）
- [x] 12.2 測試連續模式增量為零（等同單次模式）
- [x] 12.3 測試連續模式增量大於零（正常連續沖泡）
- [x] 12.4 測試多泡連續沖泡（至少 5 泡）
- [x] 12.5 測試閃爍動畫在每泡完成時觸發
- [x] 12.6 測試按鈕文字在各狀態下正確顯示
- [x] 12.7 測試泡數計數器正確遞增
- [x] 12.8 測試重置按鈕清除所有狀態
- [x] 12.9 測試「結束沖泡」按鈕功能
- [x] 12.10 測試 localStorage 儲存和讀取
- [x] 12.11 測試瀏覽器標籤標題在各狀態下正確顯示
- [x] 12.12 測試輸入驗證和範圍限制
- [x] 12.13 測試分鐘級增量輸入
- [x] 12.14 測試跨瀏覽器兼容性
