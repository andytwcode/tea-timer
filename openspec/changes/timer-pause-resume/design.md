## Context

目前計時器的主按鈕在倒數過程中為禁用狀態，使用者無法暫停正在進行的計時。此設計基於簡單狀態機（未開始 → 計時中 → 完成），但在實際使用中造成不便。

**當前實作**:
- `isRunning` 布林值控制計時狀態
- `intervalId` 儲存 setInterval 的 ID
- 計時中時 `startCountdown()` 函數會 early return

**技術限制**:
- Vue 3 Composition API，狀態使用 `ref()`
- 計時邏輯在單一元件 `App.vue` 中
- 沒有狀態管理函式庫，直接使用 reactive state

## Goals / Non-Goals

**Goals:**
- 允許使用者在計時過程中暫停
- 暫停後可以繼續，從剩餘時間開始
- 保持 UI 簡潔，主按鈕承擔多重角色（開始/暫停/繼續）
- 連續沖泡模式下暫停僅影響當前泡

**Non-Goals:**
- 暫停後不提供編輯時間功能（保持簡單）
- 不追蹤暫停歷史或總暫停時長
- 不限制暫停時長或次數
- 不在暫停狀態顯示特殊提示（如「已暫停 X 分鐘」）

## Decisions

### 決策 1: 使用單一布林值 `isPaused` 而非狀態枚舉

**選擇**: 新增 `isPaused` ref，搭配現有 `isRunning` 組合使用

**理由**:
- 最小化程式碼變動，避免重構整個狀態機
- 狀態組合清晰：
  - `isRunning: false` → 未開始或完成
  - `isRunning: true, isPaused: false` → 計時中
  - `isRunning: true, isPaused: true` → 已暫停
- 與現有 `isCompleted`、`isTimeUp` 布林值風格一致

**替代方案**: 改用 `timerState: 'idle' | 'running' | 'paused' | 'completed'`
- 優點：更清晰的狀態機
- 缺點：需要重構所有條件判斷，影響範圍大

### 決策 2: 主按鈕根據狀態切換功能

**選擇**: 
- 計時中：`⏸ 暫停` (可點擊)
- 已暫停：`▶ 繼續` (可點擊)
- 單一按鈕多重角色

**理由**:
- 符合使用者心智模型（音樂播放器的暫停/播放按鈕）
- 節省 UI 空間
- 減少按鈕數量，降低認知負擔

**替代方案**: 分開「暫停」和「繼續」兩個按鈕
- 優點：功能明確分離
- 缺點：增加 UI 複雜度，需要條件顯示邏輯

### 決策 3: 暫停時保留 interval 清理邏輯

**選擇**: 
- 暫停時執行 `clearInterval(intervalId)`
- 繼續時重新建立 `setInterval`

**理由**:
- 真正停止計時，不會產生背景執行
- 節省資源（不執行無用的倒數迴圈）
- 與重置邏輯一致（都是清除 interval）

**替代方案**: 暫停時保持 interval 但不遞減 `remainingSeconds`
- 優點：不需要重新建立 interval
- 缺點：浪費 CPU 資源，每秒執行空邏輯

### 決策 4: 暫停期間鎖定輸入框

**選擇**: 暫停期間不允許修改時間輸入框，保持鎖定狀態

**理由**:
- 簡化邏輯，避免「暫停中修改時間」的複雜情境
- 符合「暫停 = 短暫中斷」的使用情境
- 如需修改時間，使用者可以點擊重置

**替代方案**: 暫停時解鎖輸入，允許調整剩餘時間
- 優點：更靈活
- 缺點：需處理時間變更後的狀態同步、驗證邏輯

### 決策 5: 連續沖泡模式下暫停不影響後續泡

**選擇**: 暫停僅影響當前正在計時的泡，不改變基準時間或增量設定

**理由**:
- 避免複雜的時間重新計算
- 符合使用者預期（暫停不應該改變泡茶計劃）
- 保持每泡獨立性

**實作細節**:
- `currentSteepSeconds` 在暫停前計算並使用
- 暫停不修改 `initialSeconds` 或 `incrementTotalSeconds`
- 下一泡仍使用原本的公式計算時間

## Risks / Trade-offs

### Risk: 暫停後長時間不繼續，使用者可能忘記

**影響**: 使用者可能忘記有計時器在暫停狀態

**緩解**: 
- 主按鈕顯示「▶ 繼續」提供視覺提示
- 不自動取消或逾時（避免誤刪使用者意圖）
- 未來可考慮瀏覽器標題提示「⏸ 已暫停」

### Trade-off: 單一按鈕多功能 vs 認知負擔

**取捨**: 單一按鈕切換功能可能造成誤操作（想暫停結果開始新計時）

**緩解**:
- 按鈕文字清楚標示當前功能（⏸ 暫停 / ▶ 繼續）
- 使用 emoji 圖示加強視覺識別
- 暫停/繼續只在 `isRunning: true` 時作用，與開始邏輯分離

### Risk: 連續沖泡模式下暫停語意不清

**場景**: 第 3 泡計時中暫停，使用者可能誤以為會影響整個沖泡流程

**緩解**:
- 按鈕文字包含泡數提示：「⏸ 暫停第 3 泡」
- 暫停後繼續按鈕：「▶ 繼續第 3 泡」
- 規格明確說明「僅影響當前泡」

## Migration Plan

不適用（此為純新增功能，不涉及資料遷移或部署策略）。

## Open Questions

無未決問題。設計已在探索階段確認，可直接進入實作。
